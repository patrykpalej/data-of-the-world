<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indicators Description | Data of the World</title>
    <meta name="application-name" content="Data of the World">
    <meta name="description" content="Browse detailed descriptions of every indicator available in Data of the World, including sources, categories, and calculation notes.">
    <meta name="keywords" content="Data of the World indicator descriptions, data sources, world statistics glossary, GDP, HDI, population">
    <meta name="robots" content="index, follow">
    <meta name="author" content="Patryk Palej">
    <meta name="referrer" content="strict-origin-when-cross-origin">
    <link rel="canonical" href="https://dataofthe.world/indicators">
    <link rel="author" href="https://palej.dev/">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://dataofthe.world/indicators">
    <meta property="og:locale" content="en_US">
    <meta property="og:site_name" content="Data of the World">
    <meta property="og:title" content="Indicator Descriptions | Data of the World">
    <meta property="og:description" content="Understand the sources and methodology behind every statistic in the Data of the World dashboard.">
    <meta property="og:image" content="https://dataofthe.world/favicons/android-chrome-512x512.png">
    <meta property="og:image:width" content="512">
    <meta property="og:image:height" content="512">
    <meta property="og:image:type" content="image/png">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Indicator Descriptions | Data of the World">
    <meta name="twitter:description" content="Understand the sources and methodology behind every statistic in the Data of the World dashboard.">
    <meta name="twitter:image" content="https://dataofthe.world/favicons/android-chrome-512x512.png">
    <meta name="theme-color" content="#0c1222">
    <meta name="msapplication-TileColor" content="#0c1222">
    <meta name="msapplication-config" content="/favicons/browserconfig.xml">
    <link rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png">
    <link rel="shortcut icon" href="/favicons/favicon.ico">
    <link rel="manifest" href="/favicons/site.webmanifest">
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="stylesheet" href="/css/indicators.css">
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Article",
        "headline": "Indicators Description | Data of the World",
        "description": "Browse detailed descriptions of every indicator available in Data of the World, including sources, categories, and calculation notes.",
        "url": "https://dataofthe.world/indicators",
        "author": {
            "@type": "Person",
            "name": "Patryk Palej",
            "url": "https://palej.dev/"
        },
        "publisher": {
            "@type": "Person",
            "name": "Patryk Palej",
            "url": "https://palej.dev/"
        },
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https://dataofthe.world/indicators"
        },
        "image": "https://dataofthe.world/favicons/android-chrome-512x512.png"
    }
    </script>
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [
            {
                "@type": "ListItem",
                "position": 1,
                "name": "Home",
                "item": "https://dataofthe.world/"
            },
            {
                "@type": "ListItem",
                "position": 2,
                "name": "Indicators Description",
                "item": "https://dataofthe.world/indicators"
            }
        ]
    }
    </script>
    <!-- Matomo -->
    <script>
      var _paq = window._paq = window._paq || [];
      /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
      _paq.push(['trackPageView']);
      _paq.push(['enableLinkTracking']);
      (function() {
        var u="//matomo.palej.dev/";
        _paq.push(['setTrackerUrl', u+'matomo.php']);
        _paq.push(['setSiteId', '4']);
        var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
        g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
      })();
    </script>
    <!-- End Matomo Code -->
</head>
<body class="dark-mode indicators-page">
    <!-- Header -->
    <header>
        <div class="header-content">
            <div class="header-left">
                <a href="/" class="back-link" aria-label="Back to dashboard">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M19 12H5"></path>
                        <polyline points="12 19 5 12 12 5"></polyline>
                    </svg>
                </a>
                <h1>Indicators Description</h1>
            </div>
            <div class="header-spacer"></div>
            <div class="header-controls">
                <button id="themeToggle" class="control-btn">
                    <svg id="themeIcon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="indicators-container">
        <!-- Search and Filter Panel -->
        <div class="indicators-filter-panel">
            <div class="indicators-search-wrapper">
                <svg class="indicators-search-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="11" cy="11" r="8"></circle>
                    <path d="m21 21-4.35-4.35"></path>
                </svg>
                <input type="text" id="indicatorSearch" class="indicators-search-input" placeholder="Search indicator...">
            </div>
            <div class="indicators-filter-dropdowns">
                <!-- Category Filter -->
                <div class="filter-dropdown" id="categoryFilter">
                    <button class="filter-dropdown-trigger" type="button">
                        <span class="filter-dropdown-label">Category</span>
                        <span class="filter-dropdown-count" id="categoryCount"></span>
                        <svg class="filter-dropdown-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </button>
                    <div class="filter-dropdown-menu" id="categoryMenu">
                        <div class="filter-dropdown-actions">
                            <button type="button" class="filter-action-btn" data-action="select-all" data-target="category">Select all</button>
                            <button type="button" class="filter-action-btn" data-action="clear-all" data-target="category">Clear all</button>
                        </div>
                        <div class="filter-dropdown-options" id="categoryOptions">
                            <!-- Options will be populated by JS -->
                        </div>
                    </div>
                </div>

                <!-- Source Filter -->
                <div class="filter-dropdown" id="sourceFilter">
                    <button class="filter-dropdown-trigger" type="button">
                        <span class="filter-dropdown-label">Source</span>
                        <span class="filter-dropdown-count" id="sourceCount"></span>
                        <svg class="filter-dropdown-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </button>
                    <div class="filter-dropdown-menu" id="sourceMenu">
                        <div class="filter-dropdown-actions">
                            <button type="button" class="filter-action-btn" data-action="select-all" data-target="source">Select all</button>
                            <button type="button" class="filter-action-btn" data-action="clear-all" data-target="source">Clear all</button>
                        </div>
                        <div class="filter-dropdown-options" id="sourceOptions">
                            <!-- Options will be populated by JS -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Indicators Content -->
        <div class="indicators-content" id="indicatorsContent">
            <!-- Indicator cards will be rendered dynamically -->
        </div>

        <!-- No Results Message -->
        <div class="no-results" id="noResults" style="display: none;">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="11" cy="11" r="8"></circle>
                <path d="m21 21-4.35-4.35"></path>
            </svg>
            <p>No indicators match your search</p>
        </div>
    </main>

    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <div class="footer-section footer-data-sources">
                <span class="footer-heading">Data Sources:</span>
                <a href="https://data.worldbank.org/" target="_blank" rel="noopener noreferrer" class="footer-source">World Bank</a>
                <a href="https://ourworldindata.org/" target="_blank" rel="noopener noreferrer" class="footer-source">Our World in Data</a>
                <a href="https://rsf.org/en/index" target="_blank" rel="noopener noreferrer" class="footer-source">Reporters Without Borders</a>
            </div>
            <div class="footer-section footer-author">
                <span class="footer-made-by">Created by</span>
                <a href="https://palej.dev/" target="_blank" rel="noopener noreferrer" class="footer-author-link">
                    <svg class="footer-link-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                        <circle cx="12" cy="7" r="4"></circle>
                    </svg>
                    Patryk Palej
                </a>
                <span class="footer-separator">|</span>
                <a href="https://github.com/patrykpalej/data-of-the-world" target="_blank" rel="noopener noreferrer" class="footer-source-code">
                    <svg class="footer-link-icon" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                    </svg>
                    Source code
                </a>
            </div>
        </div>
    </footer>

    <script>
        const themeState = {
            currentTheme: localStorage.getItem('theme') || 'dark'
        };

        const filterState = {
            search: '',
            categories: new Set(),
            sources: new Set()
        };

        let indicatorsData = [];
        let indicatorCards = [];
        let categorySections = [];
        let allCategories = [];
        let allSources = [];

        const searchInput = document.getElementById('indicatorSearch');
        const indicatorsContent = document.getElementById('indicatorsContent');
        const noResults = document.getElementById('noResults');

        initialize();

        async function initialize() {
            applyTheme(themeState.currentTheme);
            setupThemeToggle();

            try {
                const response = await fetch('/api/indicators');
                indicatorsData = await response.json();
                renderIndicators();
                setupFilters();
            } catch (error) {
                console.error('Error loading indicators:', error);
                indicatorsContent.innerHTML = '<p class="indicator-description">Failed to load indicators data.</p>';
            }
        }

        function applyTheme(theme) {
            themeState.currentTheme = theme;
            document.body.className = theme + '-mode';
            localStorage.setItem('theme', theme);
            updateThemeIcon();
        }

        function setupThemeToggle() {
            const toggleBtn = document.getElementById('themeToggle');
            if (!toggleBtn) return;

            toggleBtn.addEventListener('click', () => {
                const nextTheme = themeState.currentTheme === 'dark' ? 'light' : 'dark';
                applyTheme(nextTheme);
            });
        }

        function updateThemeIcon() {
            const icon = document.getElementById('themeIcon');
            if (themeState.currentTheme === 'dark') {
                icon.innerHTML = `
                    <circle cx="12" cy="12" r="5"></circle>
                    <line x1="12" y1="1" x2="12" y2="3"></line>
                    <line x1="12" y1="21" x2="12" y2="23"></line>
                    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                    <line x1="1" y1="12" x2="3" y2="12"></line>
                    <line x1="21" y1="12" x2="23" y2="12"></line>
                    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                `;
            } else {
                icon.innerHTML = `
                    <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                `;
            }
        }

        function renderIndicators() {
            const categoryOrder = [];
            const categoryMap = new Map();

            indicatorsData.forEach(idx => {
                const category = idx.category || 'Other';
                if (!categoryMap.has(category)) {
                    categoryMap.set(category, []);
                    categoryOrder.push(category);
                }
                categoryMap.get(category).push(idx);
            });

            const contentHtml = categoryOrder.map(category => {
                const indicators = categoryMap.get(category);
                const cardsHtml = indicators.map(renderIndicatorCard).join('');

                return `
            <section class="indicator-category" data-category="${category}">
                <h2 class="category-title">
                    ${getCategoryIcon(category)}
                    ${getCategoryTitle(category)}
                </h2>
                <div class="indicator-cards">
                    ${cardsHtml}
                </div>
            </section>
                `;
            }).join('');

            indicatorsContent.innerHTML = contentHtml.trim();

            indicatorCards = Array.from(document.querySelectorAll('.indicator-card'));
            categorySections = Array.from(document.querySelectorAll('.indicator-category'));
            allCategories = categoryOrder;
            allSources = [...new Set(indicatorsData.map(idx => idx.source || 'Other'))];
        }

        function renderIndicatorCard(idx) {
            const scale = idx.scale || {};
            const gradientClass = scale.gradientClass ? ` ${scale.gradientClass}` : '';

            return `
                <article class="indicator-card" data-source="${idx.source || 'Other'}" data-category="${idx.category || 'Other'}">
                    <div class="indicator-card-header">
                        <h3>${idx.label}</h3>
                        ${idx.source ? `<a href="${idx.sourceUrl || '#'}" class="indicator-source" target="_blank" rel="noopener noreferrer">${idx.source}</a>` : ''}
                    </div>
                    <div class="indicator-card-body">
                        ${idx.description ? `<p class="indicator-description">${idx.description}</p>` : ''}
                        ${(scale.label || scale.lowLabel || scale.highLabel) ? `
                        <div class="indicator-scale">
                            ${scale.label ? `<div class="scale-header">${scale.label}</div>` : ''}
                            <div class="scale-bar">
                                <div class="scale-gradient${gradientClass}"></div>
                                <div class="scale-labels">
                                    <span class="scale-low">${scale.lowLabel || ''}</span>
                                    <span class="scale-high">${scale.highLabel || ''}</span>
                                </div>
                            </div>
                        </div>
                        ` : ''}
                    </div>
                </article>
            `;
        }

        function getCategoryTitle(category) {
            if (category === 'General') return 'General Indicators';
            if (category === 'Life quality') return 'Life Quality';
            return category;
        }

        function getCategoryIcon(category) {
            if (category === 'Economy') {
                return `
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="12" y1="1" x2="12" y2="23"></line>
                        <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>
                    </svg>
                `;
            }
            if (category === 'Demography') {
                return `
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                        <circle cx="9" cy="7" r="4"></circle>
                        <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                        <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                    </svg>
                `;
            }
            if (category === 'Life quality') {
                return `
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
                    </svg>
                `;
            }
            return `
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="10"></circle>
                    <line x1="12" y1="16" x2="12" y2="12"></line>
                    <line x1="12" y1="8" x2="12.01" y2="8"></line>
                </svg>
            `;
        }

        function setupFilters() {
            filterState.search = '';
            filterState.categories = new Set(allCategories);
            filterState.sources = new Set(allSources);

            populateFilterOptions();
            updateFilterCounts();
            applyFilters();

            searchInput.addEventListener('input', (e) => {
                filterState.search = e.target.value;
                applyFilters();
            });

            document.addEventListener('change', (e) => {
                if (e.target.matches('[data-filter-type]')) {
                    const filterType = e.target.dataset.filterType;
                    const value = e.target.value;
                    const filterSet = filterType === 'category' ? filterState.categories : filterState.sources;

                    if (e.target.checked) {
                        filterSet.add(value);
                    } else {
                        filterSet.delete(value);
                    }

                    updateFilterCounts();
                    applyFilters();
                }
            });

            document.querySelectorAll('.filter-dropdown-trigger').forEach(trigger => {
                trigger.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const dropdown = trigger.closest('.filter-dropdown');
                    const isOpen = dropdown.classList.contains('open');

                    document.querySelectorAll('.filter-dropdown').forEach(d => d.classList.remove('open'));

                    if (!isOpen) {
                        dropdown.classList.add('open');
                    }
                });
            });

            document.addEventListener('click', (e) => {
                if (!e.target.closest('.filter-dropdown')) {
                    document.querySelectorAll('.filter-dropdown').forEach(d => d.classList.remove('open'));
                }
            });

            document.querySelectorAll('.filter-action-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const action = btn.dataset.action;
                    const target = btn.dataset.target;
                    const filterSet = target === 'category' ? filterState.categories : filterState.sources;
                    const allValues = target === 'category' ? allCategories : allSources;
                    const optionsContainer = document.getElementById(`${target}Options`);

                    if (action === 'select-all') {
                        allValues.forEach(v => filterSet.add(v));
                        optionsContainer.querySelectorAll('input[type="checkbox"]').forEach(cb => cb.checked = true);
                    } else {
                        filterSet.clear();
                        optionsContainer.querySelectorAll('input[type="checkbox"]').forEach(cb => cb.checked = false);
                    }

                    updateFilterCounts();
                    applyFilters();
                });
            });
        }

        function populateFilterOptions() {
            const categoryOptions = document.getElementById('categoryOptions');
            const sourceOptions = document.getElementById('sourceOptions');

            categoryOptions.innerHTML = allCategories.map(cat => `
                <label class="filter-option">
                    <input type="checkbox" value="${cat}" checked data-filter-type="category">
                    <span class="filter-option-checkbox"></span>
                    <span class="filter-option-label">${cat}</span>
                </label>
            `).join('');

            sourceOptions.innerHTML = allSources.map(src => `
                <label class="filter-option">
                    <input type="checkbox" value="${src}" checked data-filter-type="source">
                    <span class="filter-option-checkbox"></span>
                    <span class="filter-option-label">${src}</span>
                </label>
            `).join('');
        }

        function updateFilterCounts() {
            const categoryCount = document.getElementById('categoryCount');
            const sourceCount = document.getElementById('sourceCount');

            const catSelected = filterState.categories.size;
            const srcSelected = filterState.sources.size;

            categoryCount.textContent = catSelected === allCategories.length ? 'All' : `${catSelected}/${allCategories.length}`;
            sourceCount.textContent = srcSelected === allSources.length ? 'All' : `${srcSelected}/${allSources.length}`;
        }

        function applyFilters() {
            const searchTerm = filterState.search.toLowerCase().trim();
            let visibleCount = 0;

            indicatorCards.forEach(card => {
                const title = card.querySelector('h3').textContent.toLowerCase();
                const source = card.dataset.source;
                const category = card.closest('.indicator-category')?.dataset.category;

                const matchesSearch = searchTerm === '' || title.includes(searchTerm);
                const matchesCategory = !category || filterState.categories.has(category);
                const matchesSource = filterState.sources.has(source);

                const isVisible = matchesSearch && matchesCategory && matchesSource;
                card.style.display = isVisible ? '' : 'none';
                if (isVisible) visibleCount++;
            });

            categorySections.forEach(section => {
                const visibleCards = section.querySelectorAll('.indicator-card:not([style*="display: none"])');
                section.style.display = visibleCards.length > 0 ? '' : 'none';
            });

            noResults.style.display = visibleCount === 0 ? 'flex' : 'none';
        }
    </script>
</body>
</html>
